<html>
<head>
</head>
<body>
<div data-dojo-type="dijit/layout/BorderContainer" design="headline" gutters="true" style="width: 100%; height: 100%;">
	<div data-dojo-type="dijit/layout/BorderContainer" design="headline" gutters="true"  region="left"
		style="width: 30%; height: 100%;">
		<div data-dojo-type="dijit/layout/ContentPane" extractcontent="false" preventcache="false" preload="false" 
			refreshonshow="false"  splitter="false" maxsize="Infinity" dolayout="false" region="center">
			<div id="runsGrid" style="height : 100%;"></div>
		</div>
        <div id="toolbar1" data-dojo-type="dijit/Toolbar" region="top">
            <div data-dojo-type="dijit/form/Button" id="select_all">
                Select all
                <script type="dojo/on" data-dojo-event="click" data-dojo-args="evt">
                    /*global define window*/
                    /*global define console*/
                    /*global define runsStore*/
                    window.require(["dijit/registry"], function(registry){
                        runsStore.query({selected : false}).forEach(function (run) {runsStore.put({id : run.id, selected : true}); });
                        registry.byId("runsGrid").refresh();
                    });
                </script>
            </div>
            <div data-dojo-type="dijit/form/Button" id="unselect_all">
                Deselect all
                <script type="dojo/on" data-dojo-event="click" data-dojo-args="evt">
                    window.require(["dijit/registry"], function(registry){
                        runsStore.query({selected : true}).forEach(function (run) {runsStore.put({id : run.id, selected : false}); });
                        registry.byId("runsGrid").refresh();
                    });
                </script>
            </div>
          
            <div data-dojo-type="dijit/form/Button" id="run">
                Run
                <script type="dojo/on" data-dojo-event="click" data-dojo-args="evt">
                    window.require(["dijit/registry", "MathRendering", "Backend","customPanes/configurationPane"], 
                        function(registry, mathRender, backend, configurationPane){
                        var processing = function(output){
                            toastr.success('Output hypotheses are ready!');
                            mathRender.renderOutput("MathOutput",output["outputHypotheses"]);
                            registry.byId("tabs").selectChild(registry.byId("visualisationPane"));
                        };
                        backend.runExperiment(configurationPane.createMessage(), processing);
                    });
                </script>
            </div>
        </div>
	</div>
	<span data-dojo-type="dijit/layout/TabContainer" id="runTabs" tabstrip="false" persist="false"  region="center"
		controllerwidget="dijit.layout.TabController" style="width: 70%; height: 100%;" >
	</span>
</div>
</body>
</html>
